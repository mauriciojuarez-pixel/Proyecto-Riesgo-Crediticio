<!-- frontend/src/views/auth/register.ejs -->

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Registro - Riesgo Crediticio</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <div class="container">
        <h1>Registro de Usuario</h1>

        <% 
            // Mensajes de error y éxito
            const errorMsg = (typeof error !== 'undefined' && error) ? error : null;
            const successMsg = (typeof success !== 'undefined' && success) ? success : null;

            // Valores previos para inputs
            const usernameValue = (typeof prevUsername !== 'undefined') ? prevUsername : '';
            const emailValue = (typeof prevEmail !== 'undefined') ? prevEmail : '';
        %>

        <% if (errorMsg) { %>
            <div class="alert alert-danger"><%= errorMsg %></div>
        <% } %>

        <% if (successMsg) { %>
            <div class="alert alert-success"><%= successMsg %></div>
        <% } %>

        <form action="/auth/register" method="POST">
            <input type="text" name="username" placeholder="Nombre completo" required value="<%= usernameValue %>">
            <input type="email" name="email" placeholder="Correo electrónico" required value="<%= emailValue %>">
            <input type="password" name="password" placeholder="Contraseña" required>
            <button type="submit">Registrarse</button>
        </form>

        <p>¿Ya tienes cuenta? <a href="/auth/login">Inicia sesión</a></p>
    </div>
</body>
</html>
